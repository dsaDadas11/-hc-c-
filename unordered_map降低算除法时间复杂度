#include <bits/stdc++.h>
#define endl '\n'
#define int long long
using namespace std;
constexpr int N = 1e6 + 10;
int a[N];
void solve()
{
    unordered_map<int, int>mp;
    int n, x;
    cin >> n >> x;
    for (int i = 0;i < n;i++)
    {
        cin >> a[i];
        mp[a[i]]++;
    }
    int ans = 0;
    for (int j = 0;j < n;j++)
    {
        if (a[j] == 0)
        {
            continue;
        }
        mp[a[j]]--;
        int ai = a[j] * x;
        if (ai % a[j] == 0)
        {
            ans += mp[ai];
        }
        mp[a[j]]++;
    }
    cout << ans << endl;
}

signed main()
{
    ios_base::sync_with_stdio(0), cin.tie(0), cout.tie(0);
    int T = 1;
    cin >> T;
    while (T--)
    {
        solve();
    }
    return 0;
}
